From d15c24c8b44be5e4054c8ecd0ff9dcf2c8e18e5b Mon Sep 17 00:00:00 2001
From: Niclas Zeising <zeising@daemonic.se>
Date: Tue, 11 Aug 2020 13:44:38 +0200
Subject: [PATCH] Fix input clients connecting to server

Fix a bug where some input clients can't connect to the input server.
This fixes #117.

FreeBSD bugzilla reference:
https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=248549

Signed-off-by: Niclas Zeising <zeising@daemonic.se>
---
 modules/im/ximcp/imRmAttr.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/modules/im/ximcp/imRmAttr.c
+++ b/modules/im/ximcp/imRmAttr.c
@@ -1410,7 +1410,7 @@
     *names_len = 0;
     while (total > min_len) {
 	len = attr[2];
-	if (len >= (total - min_len)) {
+	if (len > (total - min_len)) {
 	    return 0;
 	}
 	*names_len += (len + 1);
